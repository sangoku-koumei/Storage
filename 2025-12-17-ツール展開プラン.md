## 2025-12-17 ツール展開プラン（共有・配布・サーバー構成）

目的：これまでに作成した Pythonツール／ブラウザ拡張を、予算別に「Web上で保管・API化しつつ配布・販売」できる形に整理し、読めば次に何をすればよいか分かる実行プランにする。

---

### 1. 全体方針（配布とアーキテクチャ）
- **配布形態**  
  - ローカル：PyInstaller exe／拡張zip（最小工数、検証用）  
  - 半オンライン：ライセンスのみオンライン認証（Pro解放）  
  - フルオンライン：拡張・デスクトップはフロント、重い処理はAPIサーバー（Python）へ集約
- **コピー対策の基本**  
  - サーバー認証＋デバイス紐づけ（1〜2台）  
  - Proロジックはできるだけサーバー側（分類・タグ付け・バックアップ等）  
  - 難読化（拡張JS／pyarmor+nuitka→PyInstaller）＋署名ハッシュ検証

---

### 2. 予算別ホスティング（Pythonを走らせる）
- **¥0 〜 低コスト**  
  - Cloudflare Workers（JS）＋KV/DO：軽API・認証APIに最適（Python不可）  
  - Railway / Render Free：FastAPIを小規模起動（スリープあり）  
  - Supabase Free：PostgreSQL＋Auth＋Storage（APIはJS/Edge Functions）
- **¥1,000〜¥3,000/月（常時起動・安定）**  
  - Fly.io（Docker） / Railway（有料枠）：FastAPI常時稼働  
  - Supabase Lite or Free：DB/Auth/Storageをまとめて利用
- **¥3,000〜¥10,000/月（余裕フェーズ）**  
  - Render Pro / AWS Lightsail：常時起動＋バックアップ  
  - Vercel前段＋Railway/Fly後段、DBはSupabase/RDS

ポイント：  
JS系はCF Workers/Edge、PythonはRailway/Flyで分離すると実装が楽。DB/AuthはSupabaseがバランス良。

---

### 3. 拡張機能の展開フロー（Chrome/Edge共通）
1) `extension/` をzip化（バージョン付与）  
2) ストア申請：アイコン・説明・権限理由・スクショを用意（Chrome→Edgeの順が楽）  
3) 権限理由を明記（activeTab/scripting/storage/sidePanel/host_permissions）  
4) ライセンス認証を組み込み（起動時API検証→Pro解放、NGならFreeにフォールバック）  
5) 機能ロックはUI＋サーバー両方でチェック  
6) 配布導線：ストアURL＋LP（Notion/静的）＋メール登録でアップデート告知  
7) 有料配布は「限定公開リンク＋外部決済（Gumroad等）＋ライセンスキー配布」が扱いやすい

---

### 4. プロダクト別 展開アイデア（Web保管＋API活用）
対象ツールごとに「拡張＋Python API＋配布導線」を設定する。

1) **GPTs分類ツール（拡張＋Python API）**  
   - API：自動タグ付け／類似度検索／履歴保存をFastAPI化、Railway/Flyに載せる  
   - プラン：Free（ローカル） / Pro（クラウド同期・統計・API分類） / Premium（レコメンド・多端末）  
   - コピー対策：ProロジックはAPI側、拡張はUIと呼び出しのみ  
2) **prose-boost（文章品質チェック）**  
   - Webは既にSaaS構成。拡張で「ページ内文章の即時採点」を前段、判定はAPI（FastAPI）  
   - 価格：月¥980〜¥2,980想定。法人は席数課金  
3) **Kindle Monitor Pro（ランキング監視）**  
   - 拡張でAmazon/Kindleページをスクレイプ→APIへ送信→DB保存・可視化（Supabase＋FastAPI）  
   - プラン：Free（閲覧制限）/ Pro（履歴・差分・エクスポート）  
4) **kindle_formatter（原稿整形）**  
   - Webアップロード→APIで整形→DL。拡張はドラッグ&ドロップUIに留める  
   - 価格：買い切り¥4,980 or 月¥980（校正AI追加で上位プラン）  
5) **notetool（ID/PW管理＋Web保存ツール）**  
   - 実態は「情報資産管理SaaS」。パス管理＋Web保存（3種）＋タグ  
   - クラウド同期をPremium、ローカル専用をFree/Standard  
   - 価格目安：Standard ¥680〜¥980 / Premium ¥1,480〜¥1,980  
6) **GPTs分類拡張＋Python版連携**  
   - Python版を「強化エンジンAPI」にして、拡張から呼ぶ構成（サブスクSaaS化）  
   - OpenAI APIは従量。無料枠外はPro/Premiumのみで使用

---

### 5. ライセンス／コピー防止（実装手順）
1) 認証API最小構成（Railway/Fly/Supabase Edge）  
   - `/license/verify`：key＋deviceId＋appVersion → plan/statusを返す  
2) デバイス紐づけ（1〜2台）  
   - 初回は空なら登録、以後は不一致で拒否  
3) 短期トークン発行  
   - key→署名付きトークンを返し、拡張側は一定時間で再取得  
4) Proロジックはサーバー側  
   - 自動タグ付け・類似度・バックアップ等はAPI必須にし、ローカルコピーでは価値が出ない構成  
5) 難読化＋改ざん検知  
   - 拡張JSバンドル難読化、Pythonはpyarmor+nuitka→PyInstaller、自己ハッシュ検証（任意）

---

### 6. 予算別・具体スタック例
- **まず無料で検証**  
  - API：Railway Free（FastAPI、スリープ許容）  
  - DB/Auth：Supabase Free（500MB DB）  
  - LP：Cloudflare Pages/Notion  
- **安定運用（¥1,000〜¥3,000/月）**  
  - API：Railway有料枠 or Fly.io 1インスタンス常時  
  - DB/Auth：Supabase Lite or Free継続  
  - 監視：UptimeRobot Free  
- **拡張フェーズ（¥3,000〜¥10,000/月）**  
  - API複数化、バックアップをS3互換へ、Render/Light­sailで冗長化

---

### 7. 今すぐやるチェックリスト
- [ ] 認証APIを1つ立てる（Railway/Fly＋Supabase）  
- [ ] 拡張側にライセンス入力・検証UIを追加（起動時再検証）  
- [ ] Pro機能をAPI経由に切り出す（自動タグ付け or 類似度 or バックアップのどれか1つ）  
- [ ] ストア申請用素材を用意（説明、権限理由、アイコン、スクショ）  
- [ ] LP/導線を用意（無料→Pro誘導、限定公開URL＋キー配布）  
- [ ] 難読化とハッシュ検証を最低限入れる（拡張JS／Python exe）

---

### 8. 宣伝と導線（簡易）
- デモ動画（YouTube Shorts / X）：「Before→Afterで何分短縮か」を見せる  
- 技術記事（Zenn/Qiita）：セットアップ手順＋差別化ポイント  
- コミュニティ告知：GPT/Kindle/執筆界隈Discord・Xでβ募集  
- アップセル導線：Free → Pro → Premium をLPと拡張UIに明示

---

## 関連リンク

### 同じ日付のファイル
- [[2025-12-17-ツール展開メモ]]
- [[2025-12-17-chrome拡張機能-販売登録]]
- [[2025-12-17-ローンチ提案]]
- [[2025-12-17-作業メモ]]

### 同じテーマ（ツール展開・開発）
- [[2025-12-15-ツール作成アイデア]]
- [[2025-12-15-作業メモ]] - ツール開発
- [[2025-12-13-作業メモ]] - Python版ツール開発

### 作業メモ一覧
- [[2025-12-21-作業メモ]]
- [[2025-12-18-作業メモ]]
- [[2025-12-17-作業メモ]]
- [[2025-12-16-作業メモ]]
- [[2025-12-15-作業メモ]]





