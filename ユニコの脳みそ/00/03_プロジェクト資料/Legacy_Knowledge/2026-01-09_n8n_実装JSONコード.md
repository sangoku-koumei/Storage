
---
tags: [n8n, JSON, Code, Implementation, Legacy_Knowledge]
date: 2026-01-09
source: Legacy_File_Optimization
aliases: [n8n_JSON_Code, n8nå®Ÿè£…ã‚³ãƒ¼ãƒ‰]
---

# [[2026-01-09_n8n_å®Ÿè£…JSONã‚³ãƒ¼ãƒ‰]]
# n8n å®Ÿè£…ç”¨JSONã‚³ãƒ¼ãƒ‰ (Sç´šæ©Ÿèƒ½æ­è¼‰ç‰ˆ)

Backlink: [[2026-01-09_ä½œæ¥­ãƒ¡ãƒ¢]] [[2026-01-09_n8n_ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆæ›¸]]

## Keywords & Tags
#n8n #JSON #Code #Implementation #Legacy_Knowledge

---

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€n8nã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ä½¿ç”¨ã™ã‚‹ **ã€Œã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿä½“ã€** ã§ã™ã€‚
ä»¥ä¸‹ã®2ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‹ã‚‰é¸ã‚“ã§ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ…°ï¸ Option A: æŠ•ç¨¿å®Ÿè¡Œã®ã¿ (ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆ)
ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«äº‹å‰ã«æ›¸ãæºœã‚ãŸã€Œå®Œæˆæ¸ˆã¿ã®æŠ•ç¨¿ã€ã‚’ã€æ™‚é–“é€šã‚Šã«æŠ•ç¨¿ã™ã‚‹ã ã‘ã®å …å®Ÿãªãƒ—ãƒ©ãƒ³ã§ã™ã€‚
*   **ãƒ¡ãƒªãƒƒãƒˆ**: ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã«ãã„ã€ç®¡ç†ãŒç°¡å˜ã€‚
*   **å¯¾è±¡**: æŠ•ç¨¿å†…å®¹ã‚’è‡ªåˆ†ã§ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ãŸã„äººã€‚

(â€»ã‚³ãƒ¼ãƒ‰ã¯ä»¥å‰ã® `2026-01-09_n8n_å®Ÿè£…JSONã‚³ãƒ¼ãƒ‰.md` ã® "1. [Core] ã‚¤ãƒ³ã‚¹ã‚¿ & Threads åŒæ™‚æŠ•ç¨¿" ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„)

---

## ğŸ…±ï¸ Option B: è‡ªå‹•ç”Ÿæˆï¼†æŠ•ç¨¿ (Sç´šãƒ»é«˜æ©Ÿèƒ½ç‰ˆ) ğŸ”¥æ¨å¥¨
ã‚ãªãŸã®æä¾›ã—ã¦ãã‚ŒãŸã€ŒSç´šãƒ„ãƒ¼ãƒ«ã€ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Œå…¨å†ç¾ãƒ»å¼·åŒ–ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã™ã€‚
ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ã€Œãƒ•ãƒƒã‚¯ã€ã€Œæ§‹æˆã€ã€Œãƒˆãƒ¼ãƒ³ã€ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«è¦ç´ ã‚’æŠ½å‡ºã—ã€æ¯å›ç•°ãªã‚‹ãƒ†ã‚¤ã‚¹ãƒˆã§æŠ•ç¨¿ã‚’ **ã€Œã‚¼ãƒ­ã‹ã‚‰ç”Ÿæˆ â†’ æŠ•ç¨¿ã€** ã—ã¾ã™ã€‚

### æº–å‚™
1.  ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«3ã¤ã®ã‚·ãƒ¼ãƒˆï¼ˆHooks, Structures, Tonesï¼‰ã‚’ä½œæˆã—ã€`2026-01-09_æŠ•ç¨¿ç”Ÿæˆç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿.md` ã®å†…å®¹ã‚’ã‚³ãƒ”ãƒšã—ã¦ãã ã•ã„ã€‚
2.  ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰å†…ã® `YOUR_SPREADSHEET_ID_HERE` ã‚’ã”è‡ªèº«ã®IDã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚
3.  **ã€é‡è¦ã€‘** ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¾Œã€`Pick Patterns` ã¨ã„ã†åå‰ã®Codeãƒãƒ¼ãƒ‰ã‚’é–‹ãã€`2026-01-09_n8n_ã‚³ãƒ¼ãƒ‰ãƒãƒ¼ãƒ‰_UnicoBrainç‰ˆ.js` ã®ä¸­èº«ã‚’å…¨ã¦ä¸Šæ›¸ãã§è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚

```json
{
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 19 * * *"
            }
          ]
        }
      },
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1,
      "position": [0, 0]
    },
    {
      "parameters": {
        "jsCode": "// 1ã€œ20åˆ†ã®ãƒ©ãƒ³ãƒ€ãƒ é…å»¶ (Human-Like)\nconst delayMinutes = Math.floor(Math.random() * 20) + 1;\nreturn [{ json: { delay: delayMinutes } }];"
      },
      "name": "Random Delay",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [200, 0]
    },
    {
      "parameters": {
        "amount": "={{ $json.delay }}",
        "unit": "minutes"
      },
      "name": "Wait for Delay",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1,
      "position": [400, 0]
    },
    {
      "parameters": {
        "authentication": "serviceAccount",
        "documentId": {
          "__rl": true,
          "value": "YOUR_SPREADSHEET_ID_HERE",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "Hooks",
          "mode": "name"
        },
        "options": {}
      },
      "name": "Get Hooks",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4,
      "position": [600, 0]
    },
    {
      "parameters": {
        "authentication": "serviceAccount",
        "documentId": {
          "__rl": true,
          "value": "YOUR_SPREADSHEET_ID_HERE",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "Structures",
          "mode": "name"
        },
        "options": {}
      },
      "name": "Get Structures",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4,
      "position": [800, 0]
    },
    {
      "parameters": {
        "authentication": "serviceAccount",
        "documentId": {
          "__rl": true,
          "value": "YOUR_SPREADSHEET_ID_HERE",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "Tones",
          "mode": "name"
        },
        "options": {}
      },
      "name": "Get Tones",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4,
      "position": [1000, 0]
    },
    {
      "parameters": {
        "jsCode": "// ã“ã“ã«ã€Œ2026-01-09_n8n_ã‚³ãƒ¼ãƒ‰ãƒãƒ¼ãƒ‰_UnicoBrainç‰ˆ.jsã€ã‚’ã‚³ãƒ”ãƒšã—ã¦ãã ã•ã„ã€‚\n// ç¾åœ¨ã¯ä»®ã®ç°¡æ˜“ãƒ­ã‚¸ãƒƒã‚¯ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚\n\nconst hooks = $('Get Hooks').all().map(i => i.json);\nconst structures = $('Get Structures').all().map(i => i.json);\nconst tones = $('Get Tones').all().map(i => i.json);\n\nconst hook = hooks[Math.floor(Math.random() * hooks.length)];\nconst structure = structures[Math.floor(Math.random() * structures.length)];\nconst tone = tones[Math.floor(Math.random() * tones.length)];\n\nreturn [{\n  json: {\n    chatInput: `ä»¥ä¸‹ã®è¦ç´ ã§æŠ•ç¨¿ã‚’ä½œã£ã¦:\\nã€ãƒ•ãƒƒã‚¯ã€‘${hook['ãƒ•ãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ']}\\nã€æ§‹æˆã€‘${structure['æ§‹æˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ']}\\nã€ãƒˆãƒ¼ãƒ³ã€‘${tone['ãƒˆãƒ¼ãƒ³æŒ‡ç¤º']}`\n  }\n}];"
      },
      "name": "Pick Patterns",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1200, 0]
    },
    {
      "parameters": {
        "model": "gpt-4o",
        "prompt": {
          "messages": [
            {
              "role": "system",
              "content": "ã‚ãªãŸã¯ã€Œãƒ¦ãƒ‹ã‚³ã€ã§ã™ã€‚SNSé‹ç”¨ä»£è¡Œã®ãƒ—ãƒ­ã§ã‚ã‚Šã€å¿ƒç†æ“ä½œã®é”äººã§ã™ã€‚\n\n# Knowledge Base (Compressed)\n1. **Narrative (Vol.3)**:\n   - å¸¸ã«ã€Œä»®æƒ³æ•µï¼ˆå…±é€šã®æ•µï¼‰ã€ã‚’è¨­å®šã›ã‚ˆã€‚\n   - èª­è€…ã‚’ã€Œè¢«å®³è€…ã€ã§ã¯ãªãã€Œç›®è¦šã‚ãŸè‹±é›„ã€ã¨ã—ã¦å®šç¾©ã›ã‚ˆã€‚\n2. **Gamification (Vol.5)**:\n   - ã€Œä¸ç¢ºå®Ÿæ€§ã€ã‚’æŒãŸã›ã‚ˆã€‚çµè«–ã‚’å°‘ã—éš ã—ã€ã‚¯ãƒªãƒƒã‚¯ã•ã›ã‚‹ç†ç”±ã‚’ä½œã‚Œã€‚\n   - å°‚é–€ç”¨èªã‚’é¿ã‘ã€RPGã®ã‚ˆã†ãªãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹è¨€è‘‰ã«å¤‰æ›ã›ã‚ˆã€‚\n3. **Hypnosis (Vol.6)**:\n   - æ–­å®šã›ãšã€ã€Œï½ã‹ã‚‚ã—ã‚Œãªã„ã€ã¨èª˜å°ã›ã‚ˆï¼ˆãƒŸãƒ«ãƒˆãƒ³ãƒ»ãƒ¢ãƒ‡ãƒ«ï¼‰ã€‚\n   - é‡è¦ãªå‘½ä»¤ã¯æ–‡è„ˆã«åŸ‹ã‚è¾¼ã‚ï¼ˆEmbedded Commandsï¼‰ã€‚\n\n# Logic\n- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰æä¾›ã•ã‚ŒãŸãƒˆãƒ”ãƒƒã‚¯ï¼ˆ{{$json.topic}}ï¼‰ã‚’å…ƒã«ã€ä¸­æ¯’æ€§ã®ã‚ã‚‹æŠ•ç¨¿ã‚’ä½œæˆã›ã‚ˆã€‚\n- [Hook]ã§è¡æ’ƒã‚’ä¸ãˆã€[Body]ã§ç‰©èªã‚’èªã‚Šã€[CTA]ã§è¡Œå‹•ã•ã›ã‚ã€‚"
            },
            {
              "role": "user",
              "content": "={{ $json.chatInput }}"
            }
          ]
        }
      },
      "name": "OpenAI (Generate)",
      "type": "n8n-nodes-base.openAi",
      "typeVersion": 1,
      "position": [1400, 0]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://graph.threads.net/v1.0/{{ $env.THREADS_USER_ID }}/threads",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "text",
              "value": "={{ $json.content }}"
            },
            {
              "name": "media_type",
              "value": "TEXT"
            },
            {
              "name": "access_token",
              "value": "={{ $env.THREADS_ACCESS_TOKEN }}"
            }
          ]
        },
        "options": {}
      },
      "name": "Threads (Create)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [1600, 0]
    },
    {
      "parameters": {
        "amount": 5,
        "unit": "seconds"
      },
      "name": "Safety Wait",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1,
      "position": [1800, 0]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://graph.threads.net/v1.0/{{ $env.THREADS_USER_ID }}/threads_publish",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "creation_id",
              "value": "={{ $json.id }}"
            },
            {
              "name": "access_token",
              "value": "={{ $env.THREADS_ACCESS_TOKEN }}"
            }
          ]
        },
        "options": {}
      },
      "name": "Threads (Publish)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [2000, 0]
    }
  ],
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Random Delay",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Random Delay": {
      "main": [
        [
          {
            "node": "Wait for Delay",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait for Delay": {
      "main": [
        [
          {
            "node": "Get Hooks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Hooks": {
      "main": [
        [
          {
            "node": "Get Structures",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Structures": {
      "main": [
        [
          {
            "node": "Get Tones",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Tones": {
      "main": [
        [
          {
            "node": "Pick Patterns",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pick Patterns": {
      "main": [
        [
          {
            "node": "OpenAI (Generate)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI (Generate)": {
      "main": [
        [
          {
            "node": "Threads (Create)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Threads (Create)": {
      "main": [
        [
          {
            "node": "Safety Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Safety Wait": {
      "main": [
        [
          {
            "node": "Threads (Publish)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}
```

---

## 3. ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«
**è‡ªå‹•è¿”ä¿¡ãƒœãƒƒãƒˆ** ã‚„ **ç”»åƒç”Ÿæˆãƒ„ãƒ¼ãƒ«** ã«ã¤ã„ã¦ã¯ã€å¤‰æ›´ã‚ã‚Šã¾ã›ã‚“ã€‚
ï¼ˆâ€»ã“ã‚Œã‚‰ã¯Patternç”Ÿæˆã®å½±éŸ¿ã‚’å—ã‘ãªã„ç‹¬ç«‹ã—ãŸæ©Ÿèƒ½ã§ã™ï¼‰
