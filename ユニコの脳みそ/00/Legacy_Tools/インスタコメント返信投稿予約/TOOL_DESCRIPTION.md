#ToolDev #InstagramAutomation #MarketingTool #OpenSource

# Instagram自動投稿・自動返信ツール - ツール説明書

## 📱 ツール概要

本ツールは、Instagramアカウントの運用を自動化するためのツールです。**Elgram**や**Istep**のような既存の有料ツールの代替として、自分で開発・運用できるオープンソースのソリューションです。

### 主な特徴

- 💰 **コスト削減**: 月額22,000円〜33,000円の有料ツールの代替として、無料で利用可能
- 🔄 **複数アカウント対応**: 1つのツールで複数のInstagramアカウントを一元管理
- ⚡ **高パフォーマンス**: 必要な機能に特化し、安定性と使いやすさを重視
- 🛠️ **カスタマイズ可能**: 自分で開発しているため、必要に応じて機能を追加・変更可能
- 📊 **詳細なログ**: すべての操作とイベントを記録し、問題の特定が容易

---

## 🎯 ツールの目的

### 解決する課題

1. **高額な月額費用**
   - Elgram: 22,000円/月
   - Istep: 33,000円/月
   - 複数アカウント運用で費用が2倍・3倍に増加

2. **運用の効率化**
   - 投稿の予約管理
   - コメント・DMへの自動返信
   - 複数アカウントの一元管理

3. **柔軟性の確保**
   - 既存ツールでは対応できないカスタマイズ
   - 独自のルールやテンプレートの実装

### 対象ユーザー

- Instagramアカウントを複数運用している個人・企業
- 月額費用を削減したいユーザー
- カスタマイズ性を求めるユーザー
- 自分でツールを開発・運用できる技術者

---

## ✨ 主要機能

### 1. 予約投稿機能

Instagramへの投稿を事前に予約し、指定した日時に自動投稿します。

#### 対応する投稿タイプ

- **Feed投稿**: 通常の投稿（画像・動画）
- **Reel投稿**: リール動画の投稿
- **Story投稿**: ストーリーズ（画像・動画）

#### 主な機能

- 📅 **スケジュール管理**: 日時を指定して投稿を予約
- 📊 **カレンダー表示**: 月次カレンダーで投稿予定を視覚化
- 🔄 **スケジュール変更**: ドラッグ&ドロップで予約時間を簡単に変更
- 📝 **キャプション管理**: 投稿ごとにキャプションを設定
- 🖼️ **メディア対応**: 画像・動画の両方に対応
- ⏸️ **一時停止**: 投稿を一時停止・再開可能
- ❌ **キャンセル**: 予約投稿のキャンセル

#### 使用例

```
1. 投稿したい画像・動画のURLを準備
2. 投稿日時を指定
3. キャプションを入力
4. 投稿タイプ（Feed/Reel/Story）を選択
5. 予約投稿を作成
6. 指定した日時に自動投稿
```

---

### 2. コメント自動返信機能

Instagramのコメントに対して、キーワードベースで自動返信を行います。

#### 主な機能

- 🔍 **キーワードマッチング**: コメント内容に含まれるキーワードで自動返信
- 📋 **テンプレート連携**: 事前に作成したテンプレートを使用可能
- 🎯 **優先度設定**: 複数ルールがマッチする場合、優先度の高いルールを適用
- 🔄 **ルール並び替え**: ドラッグ&ドロップでルールの優先度を変更
- ✅ **ルールテスト**: テキストを入力して、どのルールがマッチするかテスト
- 📝 **返信履歴**: すべての自動返信を記録

#### ルール設定の例

| キーワード | 返信テキスト | 優先度 |
|-----------|------------|--------|
| ありがとう | どういたしまして！ | 1 |
| 質問 | お問い合わせありがとうございます。詳細はDMでお願いします。 | 2 |
| 価格 | 価格についてはDMでお送りします。 | 3 |

#### 使用例

```
1. コメント自動返信ルールを作成
2. キーワードと返信テキストを設定
3. 優先度を設定（数字が小さいほど優先）
4. ルールを有効化
5. コメントが来ると自動的に返信
```

---

### 3. DM自動返信機能

Instagramのダイレクトメッセージ（DM）に対して、キーワードベースで自動返信を行います。

#### 主な機能

- 🔍 **キーワードマッチング**: DM内容に含まれるキーワードで自動返信
- ⏰ **24時間ルール対応**: Metaのポリシーに準拠し、24時間以内のみ自動返信
- 📋 **テンプレート連携**: 事前に作成したテンプレートを使用可能
- 🎯 **優先度設定**: 複数ルールがマッチする場合、優先度の高いルールを適用
- 🔄 **ルール並び替え**: ドラッグ&ドロップでルールの優先度を変更
- ✅ **ルールテスト**: テキストを入力して、どのルールがマッチするかテスト
- 💬 **会話履歴管理**: ユーザーごとの会話履歴を管理
- 📝 **返信履歴**: すべての自動返信を記録

#### 24時間ルールについて

Metaのポリシーにより、ユーザーからの最後のメッセージから**24時間以内**のみ自動返信が可能です。本ツールはこのルールを厳密に遵守し、24時間を過ぎた場合は自動返信を行いません。

#### 使用例

```
1. DM自動返信ルールを作成
2. キーワードと返信テキストを設定
3. 優先度を設定
4. ルールを有効化
5. DMが来ると、24時間以内であれば自動返信
```

---

### 4. テンプレート管理機能

よく使うメッセージをテンプレートとして保存し、ルールや投稿で再利用できます。

#### テンプレートの種類

- **コメント用テンプレート**: コメント自動返信で使用
- **DM用テンプレート**: DM自動返信で使用
- **キャプション用テンプレート**: 投稿のキャプションで使用

#### 主な機能

- 📝 **テンプレート作成**: テンプレート名と本文を設定
- 🔄 **テンプレート編集**: 既存のテンプレートを編集
- ❌ **テンプレート削除**: 不要なテンプレートを削除
- 🔍 **種別フィルタ**: コメント/DM/キャプションでフィルタ
- 🔗 **ルール連携**: 自動返信ルールでテンプレートを参照

#### 使用例

```
1. テンプレートを作成（例: "お問い合わせありがとうございます"）
2. 自動返信ルールでテンプレートを選択
3. ルールがマッチすると、テンプレートの内容で返信
```

---

### 5. インボックス機能

コメントとDMを一元管理し、未返信・返信済みを確認できます。

#### コメントインボックス

- 📋 **コメント一覧**: すべてのコメントを一覧表示
- 🔍 **フィルタ機能**: 未返信・返信済みでフィルタ
- 📝 **コメント詳細**: コメント内容、送信者、時刻を表示
- 🔄 **ステータス管理**: 未処理・処理済みのステータスを更新
- ✉️ **手動返信**: 自動返信されなかったコメントに手動で返信

#### DMインボックス

- 📋 **DM一覧**: すべてのDMを一覧表示
- 🔍 **フィルタ機能**: 未返信・返信済みでフィルタ
- 💬 **会話履歴**: ユーザーごとの会話履歴を表示
- ⏰ **24時間ルール状態**: 自動返信可能/不可能を表示
- 🔄 **ステータス管理**: 未処理・処理済みのステータスを更新
- ✉️ **手動返信**: 自動返信されなかったDMに手動で返信

#### 使用例

```
1. インボックス画面を開く
2. 未返信のコメント/DMを確認
3. 必要に応じて手動で返信
4. 処理済みとしてマーク
```

---

### 6. ルール管理機能

コメント・DM自動返信のルールを管理し、優先度を調整できます。

#### 主な機能

- 📋 **ルール一覧**: すべてのルールを優先度順に表示
- 🔄 **優先度変更**: ドラッグ&ドロップで優先度を変更
- ✅ **有効/無効切り替え**: ルールを一時的に無効化
- 🔍 **ルールテスト**: テキストを入力して、どのルールがマッチするかテスト
- 📝 **ルール編集**: キーワード、返信テキスト、優先度を編集
- ❌ **ルール削除**: 不要なルールを削除

#### 優先度について

優先度は数字で設定し、**数字が小さいほど優先度が高い**です。複数のルールがマッチする場合、優先度の高いルールが適用されます。

#### ルールテスト機能

ルールが正しく動作するか確認するため、テキストを入力してマッチングをテストできます。

#### 使用例

```
1. ルール管理画面を開く
2. 新しいルールを作成
3. キーワード、返信テキスト、優先度を設定
4. ルールテストで動作確認
5. ドラッグ&ドロップで優先度を調整
```

---

### 7. カレンダー機能

投稿予定を月次カレンダーで視覚的に確認・管理できます。

#### 主な機能

- 📅 **月次カレンダー表示**: 投稿予定をカレンダー形式で表示
- 🎨 **状態別色分け**: 投稿状態（予約済み・投稿済み・失敗など）を色分け
- 🔄 **スケジュール変更**: ドラッグ&ドロップで予約時間を変更
- 📝 **投稿詳細**: クリックで投稿の詳細情報を表示
- 🔍 **フィルタ機能**: アカウント、投稿タイプでフィルタ

#### 使用例

```
1. カレンダー画面を開く
2. 月次カレンダーで投稿予定を確認
3. 投稿をドラッグ&ドロップで日時を変更
4. 投稿をクリックして詳細を確認
```

---

### 8. ログ・デバッグ機能

アプリケーションの動作を記録し、問題の特定やデバッグを支援します。

#### 主な機能

- 📊 **イベントログ**: すべてのシステムイベントを記録
- 🔍 **ログフィルタ**: レベル（ERROR/WARN/INFO/DEBUG）、ソース、期間でフィルタ
- 📝 **詳細情報**: イベントの詳細情報（メタデータ）を表示
- 💾 **ログファイル**: ローテーション付きのログファイルに保存
- 🐛 **デバッグモード**: 開発時のみ詳細なリクエストログを出力

#### ログレベル

- **ERROR**: エラーが発生した場合
- **WARN**: 警告（注意が必要な場合）
- **INFO**: 通常の情報（投稿成功、返信成功など）
- **DEBUG**: デバッグ情報（詳細なリクエストログなど）

#### 使用例

```
1. ログ画面を開く
2. 期間やレベルでフィルタ
3. エラーや警告を確認
4. 詳細情報を展開して原因を特定
```

---

### 9. Google Sheets連携機能（オプション）

アプリケーションのログをGoogleスプレッドシートにエクスポートし、レポートや分析に活用できます。

#### 主な機能

- 📊 **ログエクスポート**: アプリケーションイベントログをスプレッドシートに出力
- 📈 **レポート作成**: データ分析用のデータを出力
- 🔄 **自動更新**: 定期的にスプレッドシートを更新（将来実装）

#### 使用例

```
1. Google Cloud Consoleでサービスアカウントを作成
2. サービスアカウントのJSONキーをダウンロード
3. スプレッドシートにサービスアカウントを共有
4. 設定を完了
5. ログが自動的にスプレッドシートに出力
```

---

## 🎨 UI/UXの特徴

### 操作性

- 🖱️ **マウス操作中心**: キーボード操作を最小限に
- 🎯 **ドラッグ&ドロップ**: 直感的な操作でスケジュール変更や優先度調整
- 📱 **レスポンシブデザイン**: PC・タブレット・スマートフォンに対応（将来実装）

### 情報表示

- 📊 **階層化された情報**: 必要な情報だけを表示し、詳細は必要に応じて展開
- 🎨 **視覚的な状態表示**: 色分けやアイコンで状態を一目で確認
- 🔍 **フィルタ機能**: 大量のデータから必要な情報を素早く見つける

### 使いやすさ

- 🎯 **明確な目的**: 各画面に明確な目的があり、迷わず操作できる
- 📝 **わかりやすいエラーメッセージ**: エラーが発生した場合、原因と対処法を表示
- ⚡ **高速な応答**: API応答を500ms以内に保ち、ストレスなく操作できる

---

## 🔒 セキュリティ・プライバシー

### データ保護

- 🔐 **アクセストークン管理**: アクセストークンは安全に保存（本番環境では暗号化推奨）
- 🔒 **環境変数管理**: 機密情報は環境変数で管理
- 🛡️ **Webhook検証**: MetaからのWebhookを検証し、不正なリクエストを拒否

### プライバシー

- 👤 **個人情報の保護**: デバッグモードでも個人情報をログに出力しない
- 📝 **ログの最小化**: 必要最小限の情報のみをログに記録
- 🔍 **アクセス制御**: 将来的にユーザー認証を実装（将来実装）

---

## 📊 パフォーマンス

### 処理速度

- ⚡ **投稿処理**: 1分以内に投稿を処理
- 🚀 **API応答**: 500ms以内にAPI応答
- 📈 **スケーラビリティ**: 複数アカウント・大量の投稿に対応

### 安定性

- ✅ **エラー率**: 1%以下を目標
- 🔄 **自動リトライ**: APIエラー時に自動的にリトライ（将来実装）
- 📊 **監視機能**: ログとイベントでシステムの状態を監視

---

## 🚀 今後の拡張予定

### Phase 2以降の機能

- 🔐 **OAuth認証フロー**: アクセストークン取得の自動化
- 📊 **レポート機能**: 統計・分析機能の強化
- 🔔 **通知機能**: エラーや重要なイベントの通知
- 👥 **マルチユーザー**: 複数ユーザーでの利用
- 🧪 **A/Bテスト**: 返信メッセージの効果測定
- 📱 **モバイルアプリ**: iOS/Androidアプリ（将来実装）

---

## 📞 サポート・お問い合わせ

### ドキュメント

- **README.md**: セットアップと基本的な使用方法
- **PROJECT_DESCRIPTION.md**: プロジェクトの設計思想と技術的な詳細
- **CONVERSATION_SUMMARY.md**: 開発の経緯と議論のまとめ

### トラブルシューティング

- **ログ画面**: エラーや警告を確認
- **デバッグモード**: 詳細なログを出力して問題を特定
- **APIドキュメント**: `http://localhost:8000/docs` でAPI仕様を確認

---

## 📝 ライセンス

MIT License

---

**最終更新**: 2024年
**バージョン**: 1.0.0

---

## 関連リンク
- [[FEATURES]]
- [[PROJECT_DESIGN]]
- [[CONVERSATION_SUMMARY]]
- [[技術資産__インスタコメント返信投稿予約ツール]]
- [[2025-12-15-ツール作成アイデア]]
- [[2025-12-22-インスタ動画解析結果]]
- [[在宅ワーク考察]]
- [[00 Rules]]

