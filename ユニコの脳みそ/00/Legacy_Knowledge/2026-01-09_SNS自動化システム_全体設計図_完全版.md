---
tags: [SNS_Automation, SystemArchitecture, GAS, Python, Threads, MarketingWorkflow, 00, Legacy_Knowledge]
date: 2026-01-09
source: Strategic_System_Design_Log
aliases: [SNS自動化_全体設計図, SNS_System_Chart]
---

# [[2026-01-09_SNS自動化システム_全体設計図_完全版]]
# 🗺️ SNS運用自動化システム：全体設計図および改善案 (Grand Strategy Chart)

[[00_知識マップ|⬅️ 00：知識マップへ戻る]]

## Keywords & Tags
#SNS_Automation #SystemArchitecture #GAS #Python #Threads #MarketingWorkflow #Legacy_Knowledge #00

現在構築中のシステムにおける、各パーツの役割とデータの流れを整理しました。
また、さらなる「完全自動化」に向けた改善案を提示します。

---

## 🗺️ システム全体像：役割分担

**「脳（思考）」から「手（実行）」までの一方通行フロー**です。

| 担当 | ツール名 | 役割 (Role) | 具体的なタスク |
| :--- | :--- | :--- | :--- |
| **脳** | **GAS (Google Apps Script)** | **司令塔・企画** | ・投稿スケジュールの立案<br>・ChatGPTによる台本（キャプション）作成<br>・画像生成プロンプトの作成<br>・Googleドライブの画像リンク取得 |
| **演出** | **Canva / AI** | **クリエイティブ** | ・**Canva**: テンプレートを使った「文字入れ画像」の量産（一括作成）<br>・**DALL-E 3**: 雰囲気を伝える「イメージ画像」の生成（GASから指令） |
| **神経** | **Connect (CSV/Drive)** | **データ連携** | ・GASが吐き出した「指示書（CSV）」<br>・Googleドライブ上の「画像素材」 |
| **右腕** | **Pythonツール** | **実行・顧客対応** | ・**自動投稿**: CSVを読み込み、Instagram/Threadsへ投稿<br>・**自動返信**: コメントやDMに即座に反応<br>・**ログ記録**: 活動内容を記録 |

---

## 🔄 新・ワークフロー（リサーチ起点）

ユーザー様のご要望に合わせ、**「いきなり投稿作成」ではなく「リサーチ＆戦略策定」から始まる**、よりプロフェッショナルなフローに刷新しました。

### Phase 1: 脳【リサーチ & 戦略】(Monthly)
1.  **GAS**: `runResearch` (新機能) を実行。
    *   キーワード入力で「競合分析」「3C分析」をAIが実行し、スプレッドシートにレポートを出力。
2.  **GAS**: `createStrategy` (新機能) を実行。
    *   リサーチ結果を元に「今月の勝ち筋（戦略）」と「投稿ネタ30選」を策定。

### Phase 2: 演出【クリエイティブ】(Monthly)
3.  **画像作成（選択制）**:
    *   **パターンA (DALL-E 3)**: GASの `generateDalleImages` (新機能) で完全自動生成。(文字なし/写真メイン)
    *   **パターンB (Canva)**: スプシの文字データをCanvaで一括作成。(文字あり/情報メイン)
4.  **GAS**: 画像リンク取得 & CSV出力。

### Phase 3: 右腕【完全自動実行】(Daily)
5.  **Python**: CSVスケジュールに従い、**Instagram と Threads に同時投稿** (改善1)。
6.  **Python**: コメント・DMへの自動返信 (常時稼働)。

### Phase 4: 循環【レポート還流】(Daily)
7.  **Python**: 1日の終わりに「いいね数・フォロワー数」を集計。
8.  **Python**: GASへデータを送信し、スプレッドシートの「レポート管理表」を自動更新 (改善3)。
    *   → 翌日のPhase 1（リサーチ）の精度が向上するサイクルが完成。

---

## �️ 3大改善機能の実装設計

### 1. Threads同時投稿機能
*   **仕組み**: `scheduler.py` がInstagram投稿完了通知を受け取った直後、同じキャプション（または要約版）と画像を使ってThreads APIを叩く。
*   **実装**: `ThreadsClient` クラスを Pythonツールに追加。

### 2. DALL-E 3 完全自動化 (GAS)
*   **仕組み**: スプレッドシートの「Image Prompt」列を読み込み、OpenAI DALL-E 3 API経由で画像を生成。Googleドライブに直接保存し、URLをシートに書き込む。
*   **実装**: `generateDalleImages` 関数を GASに追加。

### 3. レポート自動還流システム
*   **仕組み**: GAS側で `doPost` 関数（Webフック）を開放。Pythonツールが毎日夜間に `requests.post` で数値を送信する。
*   **実装**: GASに `doPost`、Pythonに `report_sync.py` を追加。

---

## 📝 今後のアクション

この設計図に基づき、具体的な**「コピペ用コード」**を次のステップで出力します。
1.  **GAS用コード**: リサーチ機能、DALL-E生成、レポート受信機能
2.  **Python用コード**: Threads同時投稿、レポート送信機能
